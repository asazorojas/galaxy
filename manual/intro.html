
<!DOCTYPE html>
<html lang="en">
    
    <head>
        <meta charset="utf-8">
        <title>Introduction to Galaxy | Galaxy</title>
        <link rel="stylesheet" href="../_static/pygments.css" type="text/css"/>
        <link rel="stylesheet" href="../_static/pudoc.css" type="text/css"/>
        <link rel="top" title="Galaxy" href="../index.html"/>
        <link rel="up" title="User Manual" href="index.html"/>
        <link rel="next" title="Galaxy’s API" href="api/api.html"/>
        <link rel="prev" title="User Manual" href="index.html"/>
        <style lang="text/css">
            #top-bar, #top-bar small, #top-bar a {
                text-shadow: 0px -1px 0px #EAEAEA;
            color: #000;
            }

            #top-bar {
                background-color: #444;
            background-image: -moz-linear-gradient(top, #FAFAFA, #EAEAEA);
            background-image: -ms-linear-gradient(top, #FAFAFA, #EAEAEA);
            background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#FAFAFA), to(#EAEAEA));
            background-image: -webkit-linear-gradient(top, #FAFAFA, #EAEAEA);
            background-image: -o-linear-gradient(top, #FAFAFA, #EAEAEA);
            background-image: linear-gradient(top, #FAFAFA, #EAEAEA);
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr = '#FAFAFA', endColorstr = '#EAEAEA', GradientType = 0);
            -webkit-border-radius: 0;
            -moz-border-radius: 0;
            border-radius: 0;
            border-bottom: 1px solid #CACACA;
            box-shadow: 0 1px 0 rgba(255, 255, 255, 0.4),0 0 10px rgba(0, 0, 0, 0.1);
            }


            .hero-unit {
                background-image: url("../_static/xxx.png") !important;
                background-repeat: no-repeat !important;
                background-position: 30px 50px;
            }

            .hero-unit div.section {
                padding-left: 200px !important;
            }
        </style>
    </head>
    <body>
        <a href="https://github.com/puniverse/galaxy">
            <img style="position: absolute; top: 0; right: 0; border: 0;"
                 src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
                 alt="Fork me on GitHub"></a>
        <div class="navbar">
            <div class="navbar-inner container-fluid" id="top-bar">
                <header class="row-fluid">
                    <h1 class="span12" id="title">
                        <a href="../index.html">Galaxy</a>
                        <small>a high-performance in-memory data grid</small>
                    </h1>
                </header>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span3" id="sidebar">
                    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../news.html">News</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About Galaxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../start/getting-started.html">Getting Started With Galaxy</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Manual</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">Introduction to Galaxy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#galaxy-features-and-architecture">Galaxy Features and Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="#galaxy-internals">Galaxy internals</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">Galaxy Internals</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#tips-for-achieving-high-performance-with-galaxy">Tips for Achieving High-Performance with Galaxy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/api.html">Galaxy&#8217;s API</a></li>
<li class="toctree-l2"><a class="reference internal" href="config/config.html">Configuring and Monitoring Galaxy</a></li>
</ul>
</li>
</ul>

                    <hr/>
                    <ul>
                        <li><a href="http://puniverse.github.com/galaxy/javadoc/index.html">Javadocs</a></li>
                        <li><a href="https://github.com/puniverse/galaxy/downloads">Download</a></li>
                        <li><a href="https://groups.google.com/forum/#!forum/galaxy-user">Mailing List</a></li>
                        <li><a href="https://github.com/puniverse/galaxy/issues/">Issue Tracker</a></li>
                        <li><a href="http://blog.paralleluniverse.co">Blog</a></li>
                    </ul>
                </div>
                <div class="span9" id="body">
                     
  <div class="section" id="introduction-to-galaxy">
<span id="man-intro"></span><h1>Introduction to Galaxy<a class="headerlink" href="#introduction-to-galaxy" title="Permalink to this headline">¶</a></h1>
<p>Galaxy is an in-memory data-grid. It&#8217;s main function is to distribute data objects (stored as simple byte arrays) among cluster
nodes for distributed processing. It also provides point-to-point messaging with guaranteed delivery and guaranteed ordering, as well as a cluster configuration
management service.</p>
<div class="section" id="galaxy-features-and-architecture">
<span id="man-intro-architecture"></span><h2>Galaxy Features and Architecture<a class="headerlink" href="#galaxy-features-and-architecture" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>RAM storage and code/data co-location</dt>
<dd><p class="first">Application code runs on the same cluster nodes (called <strong>peer nodes</strong>), and processes the data objects which are kept in RAM.</p>
<p>Unlike other IMDGs that partition data items, and distribute them in such a way that each object is the responsibility of a
single node, Galaxy nodes exchange messages to transfer ownership of objects from one node to another. This means that if the
application code in one of the nodes regularly updates some data items, those items will be owned by the node, and will be
available for processing and update without any network I/O. As the application runs, items will migrate from one node
to another (though items can reside on several nodes at once for read-only access). This gives the application precise control
over the location of the data in the cluster for maximum performance.</p>
<p>This flexibility, however, is suitable when data access
patterns can be predicted and so the data can be optimally placed. If data access is completely random, other IMDGs may be a
better choice as they can retrieve or update any item at a cost of one network hop, while Galaxy might need to search the cluster
for an unexpected item access.</p>
<p class="last">Because the application code is co-located with the data, and because all of the data is kept in RAM, Galaxy is suitable for
low-latency applications.</p>
</dd>
<dt>Consistency</dt>
<dd><p class="first">Galaxy stores data in a fully consistent manner, meaning that if data item B has been modified after a change to data item A,
no node in the cluster will see A&#8217;s new value but B&#8217;s old one.</p>
<p class="last">Galaxy achieves consistency by using a <a class="reference external" href="http://en.wikipedia.org/wiki/Cache_coherence">cache-coherence protocol</a> similar to
the protocols used to coordinate memory access among CPU cores. However, as Galaxy can guarantee the ordering of coordination
messages between nodes no memory-fence operations are requires (as they are in CPUs) to achieve consistency.</p>
</dd>
<dt>Disk persistence and server nodes</dt>
<dd><p class="first">The data items can optionally be persisted to disk on one or more special nodes called <a class="reference internal" href="config/config-server.html#man-config-server"><em>server nodes</em></a>.</p>
<p class="last">However, in order to keep latency low, Galaxy (even when configured to use a persistent server node), is not durable. This means that
a failure in one or more of the nodes may result in a permanent loss of some <em>recent</em> updates. However, even in cases of such failures
the data remains consistent, meaning the lost updates will be lost to all of the nodes (or to none).</p>
</dd>
<dt>High Availability</dt>
<dd><p class="first">Galaxy can withstand a failure in one or more of the nodes, providing high-availability. This is achieved by either running Galaxy
with a server node (which persists all of the grid data to disk) or by running a slave node (or more) for each of the peers,
or both.</p>
<p>If only a server node is used, data is not lost when a peer node fails (except for possibly some recent updates as explained above),
and all the data items owned by the failed node are still accessible. However, as the server reads those items from the disk,
latency might suffer until all items have been accessed by the peers and kept in RAM.</p>
<p>Alternately, or in combination with a server, you can run one or more slave-nodes for each of the peers, that mirror the
data stored in them, so that upon failure of a peer, one of its slaves will take over, already having all of the necessary data
items in RAM.</p>
<p class="last">A server node may also have slaves that will take over when it fails.</p>
</dd>
<dt>Messaging</dt>
<dd><p class="first">Galaxy provides a point-to-point messaging service that guarantees message delivery and ordering. A message can be sent to a
known node or to the unknown (to the application) owner of a given data item. So if Galaxy&#8217;s data-item migration makes moving
data to code simple, Galaxy&#8217;s messages make moving an operation (code) to data just as simple.</p>
<p class="last">The application messages are delivered by the same communication channel that delivers Galaxy&#8217;s internal coherence protocol messages,
so messages are also  guaranteed to be ordered with data operations. Say that node A updates data item X, and then sends a message
to the owner of data item Y (which happens to be node B), as a result of which node B reads the value of X. In this case node B
is guaranteed to read the value of X after the update done by A before sending the message.</p>
</dd>
<dt>Monitoring</dt>
<dd>All of Galaxy&#8217;s components are monitored to enable full diagnoses of failure or performance problems.</dd>
</dl>
<p>Galaxy&#8217;s aim is to give the application full control over data location and processing in the grid, and in-order to provide
maximal flexibility with a simple API, it is relatively low-level. It provides no query mechanism whatsoever, imposes no structure
on the data (which is kept in memory and on disk as byte arrays), and provides no locking of elements to coordinate complex
transactions among different threads on a single node (although each operation is atomic by itself). All of that must be provided
by the application.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Use data-store operations to move data to code; use messages to move code to data.</p>
</div>
</div>
<div class="section" id="galaxy-internals">
<h2>Galaxy internals<a class="headerlink" href="#galaxy-internals" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Galaxy Internals<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>A series of blog posts detailing Galaxy&#8217;s inner workings can be found here:
<a class="reference external" href="http://blog.paralleluniverse.co/post/28062434301/galaxy-internals-part-1">part 1</a>,
<a class="reference external" href="http://blog.paralleluniverse.co/post/28635713418/how-galaxy-handles-failures">part 2</a>,
<a class="reference external" href="http://blog.paralleluniverse.co/post/29085615915/galaxy-internals-part-3">part 3</a>.</p>
</div>
</div>
<div class="section" id="tips-for-achieving-high-performance-with-galaxy">
<h2>Tips for Achieving High-Performance with Galaxy<a class="headerlink" href="#tips-for-achieving-high-performance-with-galaxy" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Reduce contention - just like in all distributed systems (and even inside your CPU), contention <em>invariably</em> requires communication
and communication invariably increases latency. Try to avoid multiple nodes all competing to update the same items.</li>
<li>The more nodes share an item, the less often it should be updated - even if an item is usually updated by the same node, if the item
is shared (for read access), by a large number of nodes, updating it will increase latency (in the reader nodes, not the writer node).</li>
<li>Trees are good - Tree data structures (like B-trees and tries) often have the property that the higher up a tree-node is, it will be
shared more, but will be updated less often. That&#8217;s a great property.</li>
<li>Keep your transactions short - this will also reduce contention. Try not to do any blocking operation while in a Galaxy transaction.</li>
<li>Consider configuring your Ethernet network to use jumbo frames - if your network supports it, jumbo frames may improve communication
speed among Galaxy nodes.</li>
</ul>
</div>
</div>


                </div>
            </div>
            <hr/>
            <footer>
                &copy; Copyright 2012, Parallel Universe Software Co..
                Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>
                1.1.3.
            </footer>
        </div>
    </body>
</html>


